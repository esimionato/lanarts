--- 

#Effect Markup
    
effects:
  - name: Poison
    poison_rate: 35
    effected_colour: [100, 255, 100]
    can_use_rest: no
    stat_func: poison_statmod
    init_func: poison_map_init
    step_func: poison_step
    effected_sprite: spr_effects.poison

  - name: Berserk
    exhausted_duration: 275
    stat_func: berserk_effect.stat
    init_func: berserk_effect.init
    step_func: berserk_effect.step
    can_use_rest: no
    can_use_spells: no
    can_use_stairs: no
    finish_func: 
      function (effect, obj) 
        obj:add_effect("Exhausted", effect.exhausted_duration) 
        if obj.is_local_player and obj:is_local_player() then 
          local EventLog = require "ui.EventLog";
          EventLog.add("You are now exhausted...", {255,200,200}) 
        end
      end
    fade_out: 5
    effected_colour: [255,160,160] #RGB
    effected_sprite: berserk_effected

  - name: Exhausted
    stat_func: exhausted_effect.stat
    can_use_rest: no
    finish_func: 
      function (effect, obj) 
        local EventLog = require "ui.EventLog";
        if obj.is_local_player and obj:is_local_player() then 
          EventLog.add("You are no longer exhausted.", {200,200,255}) 
        end
      end
    effected_colour: [120,120,120] #RGB
    effected_sprite: exhausted_effected

  - name: Expedited
    stat_func: expedited_effect.stat
    can_use_rest: no
    finish_func: 
      function (effect, obj) 
        local EventLog = require "ui.EventLog";
        if obj.is_local_player and obj:is_local_player() then 
          EventLog.add("You are no longer expedited.", {255,200,200}) 
        end
      end
    effected_colour: [220,220,255] #RGB
    effected_sprite: haste effected

  - name: Charge
    can_use_spells: no
    init_func: charge_effect.init
    stat_func: charge_effect.stat
    finish_func: charge_effect.finish
    effected_colour: [255,0,0] #RGB
    effected_sprite: charge_effected
    fade_out: 0

  - name: Thrown
    can_use_spells: no
    init_func: thrown_effect.init
    step_func: thrown_effect.step
    stat_func: thrown_effect.stat
    effected_sprite: spr_effects.pain_mirror
    effected_colour: [200,200,200] #RGB
    fade_out: 5

# TODO: Asleep enemies dont attack or move until woke
#  - name: Asleep
#    effected_sprite: spr_effects.sleeping
#    fade_out: 5

  - name: Pained
    effected_sprite: spr_effects.demon_pentagram5
    effected_colour: [100,100,100] #RGB
    fade_out: 15
    # Effect in CPP

  - name: Dazed
    effected_sprite: spr_effects.may_stab_brand
    fade_out: 5
    # Effect in CPP

  - name: Slowed
    effected_sprite: spr_effects.slowed
    fade_out: 5
    stat_func: 
      function(effect, obj, old, new)    
        new.melee_cooldown_multiplier = new.melee_cooldown_multiplier * 2
        new.ranged_cooldown_multiplier = new.ranged_cooldown_multiplier * 2
        new.spell_cooldown_multiplier = new.spell_cooldown_multiplier * 2
        new.speed = new.speed / 2
      end

  - name: Regeneration
    effected_sprite: spr_effects.new_stair
    effected_colour: [200,255,200] #RGB
    # Rest of effect in CPP code
    stat_func: 
      function(effect, obj, old, new)    
        new.hpregen = new.hpregen * 20
      end
    fade_out: 55

  - name: Fear
    effected_sprite: spr_effects.fleeing
    effected_colour: [200,255,200] #RGB
    # Rest of effect in CPP code
    stat_func: 
      function(effect, obj, old, new)    
        new.speed = new.speed * 1.25
      end
    fade_out: 55
